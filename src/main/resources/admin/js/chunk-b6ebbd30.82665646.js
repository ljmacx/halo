(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6ebbd30"],{"66b4":function(t,a,e){"use strict";var n=e("9efd"),r="/api/admin/carinfo",d={listAllBrand:function(){return Object(n["a"])({url:"".concat(r,"/brand/list"),params:{},method:"get"})},listAllModel:function(){return Object(n["a"])({url:"".concat(r,"/model/list"),params:{},method:"get"})},listModelOfBrand:function(t){return Object(n["a"])({url:"".concat(r,"/model/blist"),params:{brandId:t},method:"get"})},createBrand:function(t){return Object(n["a"])({url:"".concat(r,"/brand/addBrand"),data:t,method:"post"})},createModel:function(t){return Object(n["a"])({url:"".concat(r,"/model/addModel"),data:t,method:"post"})},updateBrand:function(t,a){return Object(n["a"])({url:"".concat(r,"/brand/").concat(t),data:a,method:"put"})},updateModel:function(t,a){return Object(n["a"])({url:"".concat(r,"/model/").concat(t),data:a,method:"put"})},deleteBrand:function(t){return Object(n["a"])({url:"".concat(r,"/brand/").concat(t),method:"delete"})},deleteModel:function(t){return Object(n["a"])({url:"".concat(r,"/model/").concat(t),method:"delete"})}};a["a"]=d},"66c6":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-header-index-wide"},[e("a-row",{attrs:{gutter:12}},[e("a-col",{style:{"padding-bottom":"12px"},attrs:{xl:10,lg:10,md:10,sm:24,xs:24}},[e("a-card",{attrs:{title:t.title,bodyStyle:{padding:"16px"}}},[e("a-form",{attrs:{layout:"horizontal"}},[e("a-form-item",{attrs:{label:"品牌中文名：",help:"* 页面上所显示的名称"}},[e("a-input",{model:{value:t.brandToCreate.name,callback:function(a){t.$set(t.brandToCreate,"name",a)},expression:"brandToCreate.name"}})],1),e("a-form-item",{attrs:{label:"英文名",help:"* 一般为单个品牌页面的标识，英文"}},[e("a-input",{model:{value:t.brandToCreate.slugName,callback:function(a){t.$set(t.brandToCreate,"slugName",a)},expression:"brandToCreate.slugName"}})],1),e("a-form-item",["create"===t.formType?e("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveClick}},[t._v("保存")]):e("a-button-group",[e("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveClick}},[t._v("更新")]),"update"===t.formType?e("a-button",{attrs:{type:"dashed"},on:{click:t.handleAddBrand}},[t._v("返回添加")]):t._e()],1),"update"===t.formType?e("a-popconfirm",{attrs:{title:"你确定要删除【"+t.brandToCreate.name+"】品牌？",okText:"确定",cancelText:"取消"},on:{confirm:function(a){return t.handleDeleteBrand(t.brandToCreate.id)}}},[e("a-button",{staticStyle:{float:"right"},attrs:{type:"danger"}},[t._v("删除")])],1):t._e()],1)],1)],1)],1),e("a-col",{style:{"padding-bottom":"12px"},attrs:{xl:14,lg:14,md:14,sm:24,xs:24}},[e("a-card",{attrs:{title:"所有品牌",bodyStyle:{padding:"16px"}}},t._l(t.brands,function(a){return e("a-tooltip",{key:a.id,attrs:{placement:"topLeft"}},[e("template",{slot:"title"}),e("a-tag",{staticStyle:{"margin-bottom":"8px"},attrs:{color:"blue"},on:{click:function(e){return t.handleEditBrand(a)}}},[t._v(t._s(a.name))])],2)}),1)],1)],1)],1)},r=[],d=(e("7f7f"),e("66b4")),o={data:function(){return{formType:"create",brands:[],brandToCreate:{}}},computed:{title:function(){return this.brandToCreate.id?"修改品牌":"添加品牌"}},created:function(){this.loadBrands()},methods:{loadBrands:function(){var t=this;d["a"].listAllBrand().then(function(a){t.brands=a.data.data})},handleSaveClick:function(){this.createOrUpdateBrand()},handleAddBrand:function(){this.formType="create",this.brandToCreate={}},handleEditBrand:function(t){this.brandToCreate=t,this.formType="update"},handleDeleteBrand:function(t){var a=this;d["a"].deleteBrand(t).then(function(t){a.$message.success("删除成功！"),a.loadBrands(),a.handleAddbrand()})},createOrUpdateBrand:function(){var t=this;this.brandToCreate.name?(this.brandToCreate.id?d["a"].updateBrand(this.brandToCreate.id,this.brandToCreate).then(function(a){t.$message.success("更新成功！"),t.loadBrands(),t.brandToCreate={}}):d["a"].createBrand(this.brandToCreate).then(function(a){t.$message.success("保存成功！"),t.loadBrands(),t.brandToCreate={}}),this.handleAddBrand()):this.$notification["error"]({message:"提示",description:"品牌名称不能为空！"})}}},c=o,l=e("2877"),i=Object(l["a"])(c,n,r,!1,null,null,null);a["default"]=i.exports}}]);